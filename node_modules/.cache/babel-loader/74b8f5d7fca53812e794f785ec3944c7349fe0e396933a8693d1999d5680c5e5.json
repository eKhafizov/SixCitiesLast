{"ast":null,"code":"var _jsxFileName = \"/Users/a79858/Documents/GitHub/SixCitiesLast/src/components/bookmarkOffer/bookmarkOffer.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useAppSelector } from '../../store/hooks';\nimport { useNavigate } from 'react-router-dom';\nimport { AppRoutes } from '../../routes/AppRoutes';\nimport { useFetchAddFavoriteMutation, useFetchRemoveFavoriteMutation, useGetFavoritesQuery } from '../../features/sixCitiesApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookmarkOffer({\n  offer\n}) {\n  _s();\n  const auth = useAppSelector(state => state.SERVER_DATA.auth);\n  const navigate = useNavigate();\n  const {\n    data: favorites\n  } = useGetFavoritesQuery();\n  const isOfferFavorite = favorites === null || favorites === void 0 ? void 0 : favorites.find(item => item.id === offer.id);\n  const [fetchAdd] = useFetchAddFavoriteMutation();\n  const [fetchRemove] = useFetchRemoveFavoriteMutation();\n  const changer = () => {\n    if (isOfferFavorite) {\n      fetchRemove(offer.id);\n    } else {\n      fetchAdd(offer.id);\n    }\n  };\n  return auth === 'AUTH' ? /*#__PURE__*/_jsxDEV(\"button\", {\n    className: isOfferFavorite ? 'property__bookmark-button button property__bookmark-button--active' : 'property__bookmark-button button',\n    type: \"button\",\n    onClick: changer,\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"property__bookmark-icon\",\n      width: \"31\",\n      height: \"33\",\n      children: /*#__PURE__*/_jsxDEV(\"use\", {\n        xlinkHref: \"#icon-bookmark\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"visually-hidden\",\n      children: \"To bookmarks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"property__bookmark-button button\",\n    type: \"button\",\n    onClick: () => navigate(AppRoutes.Login),\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"property__bookmark-icon\",\n      width: \"31\",\n      height: \"33\",\n      children: /*#__PURE__*/_jsxDEV(\"use\", {\n        xlinkHref: \"#icon-bookmark\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"visually-hidden\",\n      children: \"To bookmarks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 7\n  }, this);\n}\n_s(BookmarkOffer, \"dVcTVnHW4E2svJ+McRG+XYQ7jgs=\", false, function () {\n  return [useAppSelector, useNavigate, useGetFavoritesQuery, useFetchAddFavoriteMutation, useFetchRemoveFavoriteMutation];\n});\n_c = BookmarkOffer;\nexport default BookmarkOffer;\nvar _c;\n$RefreshReg$(_c, \"BookmarkOffer\");","map":{"version":3,"names":["React","useAppSelector","useNavigate","AppRoutes","useFetchAddFavoriteMutation","useFetchRemoveFavoriteMutation","useGetFavoritesQuery","jsxDEV","_jsxDEV","BookmarkOffer","offer","_s","auth","state","SERVER_DATA","navigate","data","favorites","isOfferFavorite","find","item","id","fetchAdd","fetchRemove","changer","className","type","onClick","children","width","height","xlinkHref","fileName","_jsxFileName","lineNumber","columnNumber","Login","_c","$RefreshReg$"],"sources":["/Users/a79858/Documents/GitHub/SixCitiesLast/src/components/bookmarkOffer/bookmarkOffer.tsx"],"sourcesContent":["import React from 'react';\nimport {OfferPropType} from '../propertyGallery/propertyGallery';\nimport {useAppSelector} from '../../store/hooks';\nimport {useNavigate} from 'react-router-dom';\nimport {AppRoutes} from '../../routes/AppRoutes';\nimport {\n  useFetchAddFavoriteMutation,\n  useFetchRemoveFavoriteMutation,\n  useGetFavoritesQuery\n} from '../../features/sixCitiesApi';\n\nfunction BookmarkOffer({offer} : OfferPropType) {\n  const auth = useAppSelector((state) => state.SERVER_DATA.auth);\n  const navigate = useNavigate();\n  const {data: favorites} = useGetFavoritesQuery();\n  const isOfferFavorite = favorites?.find((item) => item.id === offer.id);\n  const [fetchAdd] = useFetchAddFavoriteMutation();\n  const [fetchRemove] = useFetchRemoveFavoriteMutation();\n\n  const changer = () => {\n    if (isOfferFavorite) {\n      fetchRemove(offer.id);\n    } else {\n      fetchAdd(offer.id)\n    }\n  };\n\n  return auth === 'AUTH'\n    ? (\n        <button\n          className={ isOfferFavorite ? 'property__bookmark-button button property__bookmark-button--active' : 'property__bookmark-button button'}\n          type=\"button\"\n          onClick={changer}\n        >\n          <svg className=\"property__bookmark-icon\" width=\"31\" height=\"33\">\n            <use xlinkHref=\"#icon-bookmark\"></use>\n          </svg>\n          <span className=\"visually-hidden\">To bookmarks</span>\n        </button>\n    )\n    :\n    (\n      <button className=\"property__bookmark-button button\" type=\"button\" onClick={() => navigate(AppRoutes.Login)}>\n        <svg className=\"property__bookmark-icon\" width=\"31\" height=\"33\">\n          <use xlinkHref=\"#icon-bookmark\"></use>\n        </svg>\n        <span className=\"visually-hidden\">To bookmarks</span>\n      </button>\n    )\n}\n\nexport default BookmarkOffer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}