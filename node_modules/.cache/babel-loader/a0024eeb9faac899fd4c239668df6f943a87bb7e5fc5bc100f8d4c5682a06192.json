{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query';\nimport { NameSpace } from '../utils/nameSpace';\nimport { getToken } from '../utils/token';\nexport const sixCitiesApi = createApi({\n  reducerPath: NameSpace.sixCitiesApi,\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://13.react.htmlacademy.pro/six-cities',\n    prepareHeaders: headers => {\n      const token = getToken();\n      if (token) {\n        headers.set('x-token', `${token}`);\n      }\n      return headers;\n    }\n  }),\n  tagTypes: ['OFFERS', 'NEARBY', 'FAVORITES', 'COMMENTS'],\n  endpoints: builder => ({\n    getOffers: builder.query({\n      query: () => '/offers',\n      providesTags: ['OFFERS']\n    }),\n    getNearbyOffers: builder.query({\n      query: id => `/offers/${id}/nearby`,\n      providesTags: ['FAVORITES']\n    }),\n    getComments: builder.query({\n      query: id => `/comments/${id}`,\n      providesTags: ['COMMENTS']\n    })\n  })\n});\n\n//export const {useGetOffersQuery, useGetNearbyOffersQuery, useGetComemntsQuery} = sixCitiesApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","NameSpace","getToken","sixCitiesApi","reducerPath","baseQuery","baseUrl","prepareHeaders","headers","token","set","tagTypes","endpoints","builder","getOffers","query","providesTags","getNearbyOffers","id","getComments"],"sources":["/Users/a79858/Documents/GitHub/SixCitiesLast/src/features/sixCitiesApi.ts"],"sourcesContent":["import {createApi, fetchBaseQuery} from '@reduxjs/toolkit/query';\nimport {NameSpace} from '../utils/nameSpace';\nimport {getToken} from '../utils/token';\nimport {OffersArray} from '../types/types';\n\n\nexport const sixCitiesApi = createApi({\n  reducerPath: NameSpace.sixCitiesApi,\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://13.react.htmlacademy.pro/six-cities',\n    prepareHeaders: (headers) => {\n      const token = getToken();\n      if (token) {\n        headers.set('x-token', `${token}`);\n      }\n      return headers;\n    }\n  }),\n  tagTypes: ['OFFERS', 'NEARBY', 'FAVORITES', 'COMMENTS'],\n  endpoints: (builder) => ({\n      getOffers: builder.query<OffersArray,void>({\n        query: () => '/offers',\n        providesTags: ['OFFERS'],\n      }),\n      getNearbyOffers: builder.query<OffersArray, number>({\n        query: (id: number) => `/offers/${id}/nearby`,\n        providesTags: ['FAVORITES']\n      }),\n      getComments: builder.query<Comment[], number>({\n        query: (id: number) => `/comments/${id}`,\n        providesTags: ['COMMENTS']\n      })\n  })\n})\n\n//export const {useGetOffersQuery, useGetNearbyOffersQuery, useGetComemntsQuery} = sixCitiesApi;\n\n\n"],"mappings":"AAAA,SAAQA,SAAS,EAAEC,cAAc,QAAO,wBAAwB;AAChE,SAAQC,SAAS,QAAO,oBAAoB;AAC5C,SAAQC,QAAQ,QAAO,gBAAgB;AAIvC,OAAO,MAAMC,YAAY,GAAGJ,SAAS,CAAC;EACpCK,WAAW,EAAEH,SAAS,CAACE,YAAY;EACnCE,SAAS,EAAEL,cAAc,CAAC;IACxBM,OAAO,EAAE,6CAA6C;IACtDC,cAAc,EAAGC,OAAO,IAAK;MAC3B,MAAMC,KAAK,GAAGP,QAAQ,CAAC,CAAC;MACxB,IAAIO,KAAK,EAAE;QACTD,OAAO,CAACE,GAAG,CAAC,SAAS,EAAE,GAAGD,KAAK,EAAE,CAAC;MACpC;MACA,OAAOD,OAAO;IAChB;EACF,CAAC,CAAC;EACFG,QAAQ,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,UAAU,CAAC;EACvDC,SAAS,EAAGC,OAAO,KAAM;IACrBC,SAAS,EAAED,OAAO,CAACE,KAAK,CAAmB;MACzCA,KAAK,EAAEA,CAAA,KAAM,SAAS;MACtBC,YAAY,EAAE,CAAC,QAAQ;IACzB,CAAC,CAAC;IACFC,eAAe,EAAEJ,OAAO,CAACE,KAAK,CAAsB;MAClDA,KAAK,EAAGG,EAAU,IAAK,WAAWA,EAAE,SAAS;MAC7CF,YAAY,EAAE,CAAC,WAAW;IAC5B,CAAC,CAAC;IACFG,WAAW,EAAEN,OAAO,CAACE,KAAK,CAAoB;MAC5CA,KAAK,EAAGG,EAAU,IAAK,aAAaA,EAAE,EAAE;MACxCF,YAAY,EAAE,CAAC,UAAU;IAC3B,CAAC;EACL,CAAC;AACH,CAAC,CAAC;;AAEF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}